<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù…Ø³ÙˆÙ‚ÙŠ Ù…Ø¤Ø³Ø³Ø© "ÙƒÙ† Ø£Ù†Øª" Ù„Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„ØªØ£Ù‡ÙŠÙ„</title>

  <link rel="stylesheet" href="../assets/fonts/tajawal.css">

  <meta property="og:title" content="Ù…Ø¤Ø³Ø³Ø© ÙƒÙ† Ø£Ù†Øª Ù„Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„ØªØ£Ù‡ÙŠÙ„" />
  <meta property="og:description" content="Ø§Ù†Ø¶Ù… Ù„Ù…Ø³ÙˆÙ‚ÙŠ Ù…Ø¤Ø³Ø³Ø© ÙƒÙ† Ø£Ù†Øª ÙˆÙƒÙ† Ø¬Ø²Ø¡Ù‹Ø§ Ù…Ù† ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù‚Ø§Ø¯Ø©. Ø³Ø¬Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø¢Ù† Ù„ØªØ¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù…Ø¹Ù†Ø§." />
  <meta property="og:image" content="https://skillia.netlify.app/images/photo.jpg" />
  <meta property="og:url" content="https://sklilia.netlify.app/Trainees_Records" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="ar_AR" />

  <style>
    /* Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ø®Ø·ÙˆØ· */
    :root {
      --primary-color: #0d3b14; /* Ø£Ø®Ø¶Ø± Ø¯Ø§ÙƒÙ† */
      --secondary-color: #e5a72d; /* Ø°Ù‡Ø¨ÙŠ */
      --accent-color: #f7f3e9; /* Ø¨ÙŠØ¬ ÙØ§ØªØ­ */
      --text-color-dark: #2d3748;
      --muted-color: #4a5568;
      --white-color: #ffffff;
      --border-radius-lg: 20px;
    }


    /* Keyframes Ù„ØªØ£Ø«ÙŠØ± Fade-in Ù„Ù„Ù†Ù…ÙˆØ°Ø¬ */
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    body{
      font-family: "Tajawal", sans-serif;
      background: linear-gradient(120deg, #f7f3e9, #eaf0f5);
      margin:0; padding:24px;
      display:flex; justify-content:center; align-items:center;
      min-height:100vh; color: var(--text-color-dark);
    }

    .container{width:100%;max-width:760px}
    .card{
      background:var(--white-color);
      border-radius:var(--border-radius-lg);
      box-shadow:0 12px 40px rgba(0,0,0,0.12);
      overflow:hidden;
    }

    header{
      background: var(--primary-color);
      color:#fff;
      padding:30px;
      /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„Ø´Ø±ÙˆØ· */
      padding-top: calc(30px + env(safe-area-inset-top, 0px));
      text-align:center;
    }
    header h1{margin:0; font-size:24px; font-weight:800}

    .content{
      padding:30px;
      /* Ø§Ù„Ø­Ù„ Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ù‚Øµ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ */
      padding-top: calc(30px + env(safe-area-inset-top, 0px));
    }

    .terms{
      max-height:420px; overflow:auto; padding:20px;
      border-radius:15px;
      background:var(--accent-color);
      border: 1px solid rgba(13, 59, 20, 0.1);
    }
    .terms h3{color:var(--primary-color); margin-top:0;}
    .terms ol li strong{color:var(--secondary-color)}

    /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
    button {
      cursor:pointer;
      border:0;
      font-weight:700;
      transition: background 0.3s, transform 0.1s;
      padding:12px 20px;
      border-radius:15px; 
    }
    button:active { transform: translateY(1px); }

    .btn-accept {
      background:var(--primary-color);
      color:var(--white-color);
      box-shadow: 0 4px 12px rgba(13, 59, 20, 0.2);
    }
    .btn-accept:hover:not(:disabled) { background: #1a5c24; }
    
    /* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø¹Ø·Ù„ */
    .btn-accept:disabled {
        background-color: #ccc !important;
        cursor: not-allowed;
        box-shadow: none;
        transform: none;
    }


    .btn-decline { 
      background:var(--accent-color);
      color:var(--primary-color);
      border: 1px solid var(--primary-color);
    }
    .btn-decline:hover { background: #e5e0d6; }

    /* ØªÙ†Ø³ÙŠÙ‚ Ù‚Ø³Ù… Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© (Checkbox) */
    .actions {
        display:flex;
        align-items:center;
        gap:10px;
        margin-top:20px;
        flex-wrap: wrap;
    }
    
    /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù€ Checkbox Ù„ÙŠÙ†Ø§Ø³Ø¨ Ø§Ù„ØªØµÙ…ÙŠÙ… */
    .styled-checkbox {
      width: 20px;
      height: 20px;
      appearance: none; /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ */
      border: 2px solid var(--primary-color);
      border-radius: 6px;
      background-color: var(--white-color);
      cursor: pointer;
      position: relative;
      transition: all 0.2s ease;
      flex-shrink: 0;
    }

    .styled-checkbox:checked {
      background-color: var(--primary-color);
      border-color: var(--primary-color);
    }

    /* Ø±Ù…Ø² Ø§Ù„ØªØ£Ø´ÙŠØ± (checkmark) */
    .styled-checkbox:checked::after {
      content: 'âœ“';
      color: var(--white-color);
      font-size: 14px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .approval-label {
        font-weight: bold;
        color: var(--text-color-dark);
        cursor: pointer;
        user-select: none;
    }

    form{
        display:none; 
        padding:20px 0; 
        border-top:1px solid #eef2f7;
        animation: fadeIn 0.4s ease-out forwards;
    }
    form h3{color:var(--secondary-color)}

    .row{display:flex; gap:15px; margin-bottom:15px;}
    .col{flex:1;}
    label{display:block;font-size:14px;color:var(--muted-color);margin-bottom:6px;}
    input,select{
      width:100%; padding:14px; border-radius:15px;
      border:1px solid #e6eef8; background:#fff; font-size:15px;
      transition:border-color 0.3s, background-color 0.3s; 
    }
    /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª */
    input:focus, select:focus{
      border-color:var(--primary-color); 
      background-color: var(--accent-color); 
      outline:none; 
      box-shadow: none;
    }

    .note{font-size:13px;color:var(--muted-color);margin-top:15px}

    .success{
      display:none; padding:18px; background:#d4edda; color:#155724;
      border-radius:10px; margin-top:15px;
      font-weight: bold;
    }
    .error{
      display:none; padding:18px; background:#f8d7da; color:#721c24;
      border-radius:10px; margin-top:15px;
    }
    
    /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨ Ø¹Ù†Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø³Ø¨Ù‚ */
    #welcomeMessage {
        padding: 30px;
        text-align: center;
        background: #e6f7ff;
        border: 1px solid #91d5ff;
        border-radius: 15px;
        margin-top: 20px;
        color: var(--primary-color);
        font-weight: bold;
        display: none;
    }

    @media (max-width:600px){.row{flex-direction:column}}
  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <header>
        <h1>Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù… - Ù…Ø³ÙˆÙ‚ÙŠ Ù…Ø¤Ø³Ø³Ø© "ÙƒÙ† Ø£Ù†Øª"</h1>
      </header>
      <div class="content">
        <div id="termsSection">
          <div class="terms">
            <h3>Ø§Ù„Ø´Ø±ÙˆØ· Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ù…Ø³ÙˆÙ‚ÙŠÙ†</h3>
            <ol>
              <li><strong>Ø§Ù„Ø£Ù‡Ù„ÙŠØ©:</strong> ÙŠØ­Ù‚ Ù„Ø£ÙŠ Ø´Ø®Øµ Ø¨Ø§Ù„Øº Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… ÙƒÙ…Ø³ÙˆÙ‚ Ù„Ù„Ù…Ø¤Ø³Ø³Ø©ØŒ Ù…Ø¹ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ù‡Ù†ÙŠØ© ÙˆØ§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø£Ø®Ù„Ø§Ù‚ÙŠØ© Ø§Ù„Ø¹Ø§Ù„ÙŠØ©.</li>
              <li><strong>Ø§Ù„Ù‡Ø¯Ù:</strong> Ù†Ø´Ø± Ø§Ù„ÙˆØ¹ÙŠ Ø¨Ø§Ù„Ø¯ÙˆØ±Ø§Øª ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ£Ù‡ÙŠÙ„ÙŠØ© Ù„Ù„Ù…Ø¤Ø³Ø³Ø© ÙˆØªØ´Ø¬ÙŠØ¹ Ø§Ù„Ù…Ù‡ØªÙ…ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„ØªØ³Ø¬ÙŠÙ„.</li>
              <li><strong>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ÙˆÙ‚:</strong> ÙŠØ¬Ø¨ ØªÙ‚Ø¯ÙŠÙ… Ø¨ÙŠØ§Ù†Ø§Øª ØµØ­ÙŠØ­Ø© ÙˆØ­Ù‚ÙŠÙ‚ÙŠØ©ØŒ ÙˆÙŠØªØ­Ù…Ù„ Ø§Ù„Ù…Ø³ÙˆÙ‚ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ø¹Ù† Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙŠÙ‚Ø¯Ù…Ù‡Ø§.</li>
              <li><strong>Ø·Ø±Ù‚ Ø§Ù„ØªØ±ÙˆÙŠØ¬:</strong> Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ØŒ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØªÙ„ÙŠØ¬Ø±Ø§Ù…ØŒ ÙˆØ§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹Ø©. ÙŠÙ…Ù†Ø¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø¶Ù„Ù„ Ø£Ùˆ Ø§Ù„ÙƒØ§Ø°Ø¨.</li>
              <li><strong>Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¥Ø­Ø§Ù„Ø©:</strong> ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø´Ø®ØµÙŠ Ù„Ù„ØªØ±ÙˆÙŠØ¬ Ù„Ù„Ø¨Ø±Ø§Ù…Ø¬ ÙÙ‚Ø·.</li>
              <li><strong>Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª ÙˆØ§Ù„Ù…ÙƒØ§ÙØ¢Øª:</strong> ØªÙØµØ±Ù Ø¨Ø¹Ø¯ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª.</li>
              <li><strong>Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©:</strong> ÙŠØªØ­Ù…Ù„ Ø§Ù„Ù…Ø³ÙˆÙ‚ ÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© ÙˆÙŠÙ„ØªØ²Ù… Ø¨Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ÙˆÙ‚ÙŠÙ… Ø§Ù„Ù…Ø¤Ø³Ø³Ø©.</li>
              <li><strong>Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ¹Ø§ÙˆÙ†:</strong> Ù„Ù„Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø­Ù‚ Ø¨Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªØ¹Ø§ÙˆÙ† Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø®Ø§Ù„ÙØ©.</li>
              <li><strong>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø´Ø±ÙˆØ·:</strong> ØªØ­ØªÙØ¸ Ø§Ù„Ù…Ø¤Ø³Ø³Ø© Ø¨Ø­Ù‚ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ¥Ø®Ø·Ø§Ø± Ø§Ù„Ù…Ø³ÙˆÙ‚ÙŠÙ† Ø¹Ø¨Ø± Ø§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø±Ø³Ù…ÙŠØ©.</li>
            </ol>
            <p class="note">Ø¨Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ·ØŒ Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ ØªÙ…Ø«ÙŠÙ„ Ù…Ø¤Ø³Ø³Ø© "ÙƒÙ† Ø£Ù†Øª" Ø¨Ù…Ù‡Ù†ÙŠØ© ÙˆØ£Ù…Ø§Ù†Ø©.</p>
          </div>

          <div class="actions">
            <input type="checkbox" id="acceptCheckbox" class="styled-checkbox">
            <label for="acceptCheckbox" class="approval-label">Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</label>
          </div>
        </div>

        <form id="signupForm">
          <h3>Ø³Ø¬Ù‘Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø· Ø¥Ø­Ø§Ù„Ø© Ø®Ø§Øµ Ø¨Ùƒ</h3>
          <div class="row">
            <div class="col">
              <label for="fullname">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ</label>
              <input id="fullname" name="fullname" placeholder="Ù…Ø«Ø§Ù„: Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠ Ù…Ø­Ø³Ù†" required />
            </div>
          </div>
          <div class="row">
            <div class="col">
              <label for="gender">Ø§Ù„Ø¬Ù†Ø³</label>
              <select id="gender" name="gender" required>
                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³</option>
                <option value="Ø°ÙƒØ±">Ø°ÙƒØ±</option>
                <option value="Ø¥Ù†Ø«Ù‰">Ø¥Ù†Ø«Ù‰</option>
                <option value="Ø¢Ø®Ø±">Ø¢Ø®Ø±</option>
              </select>
            </div>
            <div class="col">
              <label for="country">Ø§Ù„Ø¨Ù„Ø¯</label>
              <select id="country" name="country" required>
                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù„Ø¯</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <label for="phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (WhatsApp)</label>
              <input id="phone" name="phone" type="tel" placeholder="+9677xxxxxxx" pattern="[+0-9\s-]{6,20}" required />
            </div>
            <div class="col">
              <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
              <input id="email" name="email" type="email" placeholder="name@example.com" required />
            </div>
          </div>
          <div style="display:flex;gap:10px;align-items:center;margin-top:15px">
            <button type="submit" class="btn-accept" id="submitBtn">Ø¥Ø±Ø³Ø§Ù„ ÙˆØªØ³Ø¬ÙŠÙ„</button>
            <button type="button" class="btn-decline" id="backBtn">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø´Ø±ÙˆØ·</button>
          </div>
          <div class="success" id="successBox">ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­! Ø´ÙƒØ±Ù‹Ø§ Ù„ØªØ³Ø¬ÙŠÙ„Ùƒ. *Ø³ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ Ø§Ù„Ø¢Ù† Ø¥Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ø¥Ø±Ø³Ø§Ù„ Ù†Ø³Ø®Ø©.*</div>
          <div class="error" id="errorBox"></div>
        </form>
        
        <div id="welcomeMessage">
            <h3>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ Ù…Ø¬Ø¯Ø¯Ø§Ù‹!</h3>
            <p>Ù„Ù‚Ø¯ ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­ Ù…Ø³Ø¨Ù‚Ø§Ù‹. ØªÙ… Ø­ÙØ¸ Ø­Ø§Ù„Ø© ØªØ³Ø¬ÙŠÙ„Ùƒ Ù„Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±.</p>
            <p>ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø±Ø³Ø§Ù„Ø© Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„ØªÙŠ Ø£Ø±Ø³Ù„Ù†Ø§Ù‡Ø§ Ø¥Ù„ÙŠÙƒ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ.</p>
        </div>

      </div>
    </div>
  </div>

  <script src="../js/countries.js"></script>

  <script>
    // **ØªÙ… ØªØ­Ø¯ÙŠØ« Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· Ù„Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø£Ø®ÙŠØ± Ø§Ù„Ø°ÙŠ Ù‚Ø¯Ù…ØªÙ‡**
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxYQ6LMN0q19NAs2G6MgyaeZVhf65lRGNNH4F9saXphvb1VB4TL3YccgHwwzri9wljmLQ/exec';
    const WHATSAPP_NUMBER = '967778185189'; // Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„ÙŠÙ‡

    const acceptCheckbox = document.getElementById('acceptCheckbox');
    const termsSection = document.getElementById('termsSection');
    const signupForm = document.getElementById('signupForm');
    const backBtn = document.getElementById('backBtn');
    const countrySelect = document.getElementById('country');
    const submitBtn = document.getElementById('submitBtn'); 
    const successBox = document.getElementById('successBox');
    const errorBox = document.getElementById('errorBox');
    const welcomeMessage = document.getElementById('welcomeMessage'); // Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯

    // ğŸŸ¢ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø±Ù‚Ù… 1: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    if (localStorage.getItem('marketer_registered') === 'true') {
        termsSection.style.display = 'none';
        signupForm.style.display = 'none';
        welcomeMessage.style.display = 'block'; // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
    } else {
        welcomeMessage.style.display = 'none';
    }
    
    // Ø¯Ø§Ù„Ø© Ù…Ù„Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¨Ù„Ø¯Ø§Ù† 
    function populateCountries() {
        if (typeof arabCountries !== 'undefined' && Array.isArray(arabCountries)) {
            arabCountries.forEach(country => {
                const option = document.createElement('option');
                option.value = country;
                option.textContent = country;
                countrySelect.appendChild(option);
            });
        } else {
            // Ù‚Ø§Ø¦Ù…Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© ÙÙŠ Ø­Ø§Ù„ Ø¹Ø¯Ù… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨Øª
            ['Ø§Ù„ÙŠÙ…Ù†', 'Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©', 'Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª', 'Ù…ØµØ±', 'Ø§Ù„Ø£Ø±Ø¯Ù†', 'ÙÙ„Ø³Ø·ÙŠÙ†', 'Ø§Ù„Ø¹Ø±Ø§Ù‚'].forEach(country => {
                const option = document.createElement('option');
                option.value = country;
                option.textContent = country;
                countrySelect.appendChild(option);
            });
        }
    }

    // Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„Ø© Ø¹Ù† Ø¥Ø¸Ù‡Ø§Ø± Ù‚Ø³Ù… Ø§Ù„Ø´Ø±ÙˆØ·
    function showTermsSection() {
        signupForm.style.display = 'none';
        termsSection.style.display = 'block';
        acceptCheckbox.checked = false; 
        window.scrollTo({top:0,behavior:'smooth'});
    }

    // Ù…Ø¹Ø§Ù„Ø¬ Ø­Ø¯Ø« Ø§Ù„Ù€ Checkbox (ØªØ£Ø®ÙŠØ± 2 Ø«Ø§Ù†ÙŠØ©)
    acceptCheckbox.addEventListener('change', () => {
      if (acceptCheckbox.checked) {
        // ÙŠØªÙ… Ø§Ù„ØªØ£Ø®ÙŠØ± Ù‚Ø¨Ù„ Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        setTimeout(() => {
            termsSection.style.display = 'none'; 
            signupForm.style.display = 'block'; 
            window.scrollTo({top:0,behavior:'smooth'});
        }, 2000); // 2000 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ© = 2 Ø«Ø§Ù†ÙŠØ©
      } else {
        // Ø¹Ù†Ø¯ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ¯ØŒ Ù†Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆÙ†Ø®ÙÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        if (signupForm.style.display === 'block') {
            showTermsSection();
        }
      }
    });

    // Ù…Ø¹Ø§Ù„Ø¬ Ø­Ø¯Ø« Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø©
    backBtn.addEventListener('click', showTermsSection);

    // Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨ - ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù„ØªØ¶Ù…ÙŠÙ† ID ÙˆØ±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø­Ø§Ù„Ø©
    function buildWhatsAppMessage(data) {
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø¹Ø±Ù (ID) ÙˆØ±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø±Ø³Ù„Ø© Ù…Ù† Apps Script
        const affiliateLink = data.affiliate_link || 'Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ø¹Ø¯';
        const marketerID = data.marketer_id || 'N/A';
        const status = data.marketer_id ? 'N (Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªÙØ¹ÙŠÙ„)' : 'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø¹Ø±Ù';

        let message = `*Ø·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ù…ÙØ³ÙˆÙ‘Ù‚ Ø¬Ø¯ÙŠØ¯*\n\n`;
        message += `*Ø§Ù„Ù…Ø¤Ø³Ø³Ø©:* ÙƒÙ† Ø£Ù†Øª Ù„Ù„ØªØ¯Ø±ÙŠØ¨ ÙˆØ§Ù„ØªØ£Ù‡ÙŠÙ„\n`;
        message += `*Ø§Ù„Ø§Ø³Ù…:* ${data.fullname}\n`;
        message += `*Ø§Ù„Ø¬Ù†Ø³:* ${data.gender}\n`;
        message += `*Ø§Ù„Ø¨Ù„Ø¯:* ${data.country}\n`;
        message += `*Ø§Ù„Ù‡Ø§ØªÙ:* ${data.phone}\n`;
        message += `*Ø§Ù„Ø¨Ø±ÙŠØ¯:* ${data.email}\n`;
        message += `---------------------------------\n`;
        message += `*Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ù…Ø³ÙˆÙ‘Ù‚:* ${marketerID}\n`; // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¹Ø±Ù
        message += `*Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø­Ø§Ù„Ø©:* ${affiliateLink}\n`; // Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø­Ø§Ù„Ø©
        message += `*Ø§Ù„Ø­Ø§Ù„Ø©:* ${status}\n`; // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø§Ù„Ø©
        message += `---------------------------------\n`;
        message += `*ÙŠØ±Ø¬Ù‰ ØªØ£ÙƒÙŠØ¯ Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø±Ù‘Ù.*`;
        return encodeURIComponent(message);
    }

    // Ù…Ø¹Ø§Ù„Ø¬ Ø­Ø¯Ø« Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ - ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø·Ø±ÙŠÙ‚Ø© Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù€ Apps Script
    signupForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      errorBox.style.display = 'none';
      submitBtn.disabled = true; // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø²Ø± Ù…Ø¤Ù‚ØªØ§Ù‹ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
      const phoneInput = document.getElementById('phone');
      phoneInput.value = phoneInput.value.replace(/[\s\D]/g, ''); 
      


      // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ Ø³ØªÙØ±Ø³Ù„ Ø¥Ù„Ù‰ Apps Script
      const dataToSend = {
        fullname: document.getElementById('fullname').value.trim(),
        gender: document.getElementById('gender').value,
        country: document.getElementById('country').value,
        phone: document.getElementById('phone').value.trim(),
        email: document.getElementById('email').value.trim(),
      };

      try {
        // **Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‡Ø§Ù…: Ø§Ø³ØªØ®Ø¯Ø§Ù… URLSearchParams Ù„Ø¶Ù…Ø§Ù† Ù‚Ø±Ø§Ø¡Ø© Apps Script Ù„Ù€ e.parameter**
        const urlParams = new URLSearchParams();
        for (const k in dataToSend) {
            urlParams.append(k, dataToSend[k]);
        }

        // 1. Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Google Apps Script
        const resp = await fetch(SCRIPT_URL, { 
            method: 'POST', 
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded' // Header Ø§Ù„ØµØ­ÙŠØ­ Ù„Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
            },
            body: urlParams.toString() // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø³Ù„Ø³Ù„Ø© Ø§Ù„Ù†ØµÙŠØ©
        });

        if (!resp.ok) throw new Error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©: ' + resp.status);

        // 2. Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© ÙƒÙ€ JSON
        const result = await resp.json();
        
        if (result.status !== 'success') {
             // Ø¥Ø°Ø§ ÙƒØ§Ù† Apps Script Ø£Ø±Ø¬Ø¹ Ø®Ø·Ø£ (Ù…Ø«Ù„ Ø®Ø·Ø£ ÙÙŠ ÙˆØ±Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„)
             throw new Error(result.message || 'ÙØ´Ù„ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±.');
        }
        
        // ğŸŸ¢ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø±Ù‚Ù… 2: Ø§Ù„Ø­ÙØ¸ ÙÙŠ Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…ØªØµÙØ­ Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­
        localStorage.setItem('marketer_registered', 'true');


        // Ø¯Ù…Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø±Ù ÙˆØ§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø±Ø³Ù„ Ù…Ù† Apps Script
        const fullData = {
            ...dataToSend, 
            marketer_id: result.marketer_id,       
            affiliate_link: result.affiliate_link 
        };

        // 3. Ù†Ø¬Ø§Ø­ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­ ÙˆØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        successBox.style.display = 'block';
        signupForm.style.pointerEvents = 'none'; // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„

        // 4. ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨
        const whatsappMsg = buildWhatsAppMessage(fullData);
        const whatsappUrl = `https://wa.me/${WHATSAPP_NUMBER}?text=${whatsappMsg}`;


        // Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ø¥ØªØ§Ø­Ø© Ù‚Ø±Ø§Ø¡Ø© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
window.location.href = whatsappUrl; 

        
        
      } 
      catch (err) {
        // ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ (Ø³ÙˆØ§Ø¡ Ø®Ø·Ø£ Ø´Ø¨ÙƒØ© Ø£Ùˆ Ø®Ø·Ø£ Ù…Ù† Apps Script)
        submitBtn.disabled = false; // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø± Ù„Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
        errorBox.style.display = 'block';
        errorBox.textContent = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: ' + err.message + '\nØªØ£ÙƒØ¯ Ù…Ù† Ù†Ø´Ø± Apps Script ÙƒÙ€ Web App Ù…Ø¹ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¬Ù…ÙŠØ¹.';
      }
    });


    // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ù…Ù„Ø¡ Ø§Ù„Ø¨Ù„Ø¯Ø§Ù† Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('DOMContentLoaded', populateCountries);
  </script>
</body>
</html>


